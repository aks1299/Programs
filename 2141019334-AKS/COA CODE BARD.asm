.MODEL SMALL
.STACK 100H

.DATA

STRING DB 'This is a sample string', '$'
PATTERN DB 'sample', '$'

.CODE

MAIN PROC FAR

MOV AX, @DATA
MOV DS, AX

MOV SI, OFFSET STRING
MOV DI, OFFSET PATTERN

MOV CX, 5 ; <-- Hard-coded the length of the pattern into the code

LOOP1:

MOV AL, [SI]
CMP AL, [DI]
JE FOUND

INC SI
INC DI

LOOP LOOP1

JMP NOTFOUND

FOUND:

MOV AH, 09H
MOV DX, OFFSET FOUNDMSG
INT 21H

JMP EXIT

NOTFOUND:

MOV AH, 09H
MOV DX, OFFSET NOTFOUNDMSG
INT 21H

EXIT:

MOV AH, 4CH
INT 21H

MAIN ENDP

FOUNDMSG DB 'Pattern found!', '$'
NOTFOUNDMSG DB 'Pattern not found!', '$'

END MAIN
